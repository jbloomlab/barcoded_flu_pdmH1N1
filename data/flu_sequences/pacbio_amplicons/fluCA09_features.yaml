# default for genes with two variant tags
default_2tags: &default_2tags
  query_clip5: 5
  query_clip3: 5
  termini5:
    filter:
      mutation_nt_count: 2
      mutation_op_count: null
    return: [mutations, accuracy]
  termini3:
    filter:
      mutation_nt_count: null
      mutation_op_count: 10
    return: [mutations, accuracy]
  sequenced_ORF_1:
    filter:
      clip5: 5
      mutation_nt_count: null
      mutation_op_count: 10
    return: [mutations, accuracy]
  sequenced_ORF_2:
    filter:
      clip3: 5
      mutation_nt_count: null
      mutation_op_count: 10
    return: [mutations, accuracy]
  polyA:
    filter:
      mutation_nt_count: null
      mutation_op_count: 4
  UMI:
    return: [sequence, accuracy]
  cellbarcode:
    return: [sequence, accuracy]
  variant_tag_1:
    filter:
      mutation_nt_count: 1
      mutation_op_count: null
    return: sequence
  variant_tag_2:
    filter:
      mutation_nt_count: 1
      mutation_op_count: null
    return: sequence
# default for genes with one variant 2 tag
default_1tag: &default_1tag
  query_clip5: 5
  query_clip3: 5
  termini5:
    filter:
      mutation_nt_count: 2
      mutation_op_count: null
    return: [mutations, accuracy]
  termini3:
    filter:
      mutation_nt_count: null
      mutation_op_count: 10
    return: [mutations, accuracy]
  sequenced_ORF_1:
    filter:
      clip5: 5
      mutation_nt_count: null
      mutation_op_count: 10
    return: [mutations, accuracy]
  sequenced_ORF_2:
    filter:
      clip3: 5
      mutation_nt_count: null
      mutation_op_count: 10
    return: [mutations, accuracy]
  polyA:
    filter:
      mutation_nt_count: null
      mutation_op_count: 4
  UMI:
    return: [sequence, accuracy]
  cellbarcode:
    return: [sequence, accuracy]
  variant_tag_2:
    filter:
      mutation_nt_count: 1
      mutation_op_count: null
    return: sequence
# default for genes with two variant tags and viral barcodes
default_2tags_with_viral_barcode: &default_2tags_with_viral_barcode
  query_clip5: 5
  query_clip3: 5
  termini5:
    filter:
      mutation_nt_count: 2
      mutation_op_count: null
    return: [mutations, accuracy]
  termini3:
    filter:
      mutation_nt_count: null
      mutation_op_count: 10
    return: [mutations, accuracy]
  sequenced_ORF_1:
    filter:
      clip5: 5
      mutation_nt_count: null
      mutation_op_count: 10
    return: [mutations, accuracy]
  sequenced_ORF_2:
    filter:
      clip3: 5
      mutation_nt_count: null
      mutation_op_count: 10
    return: [mutations, accuracy]
  polyA:
    filter:
      mutation_nt_count: null
      mutation_op_count: 4
  UMI:
    return: [sequence, accuracy]
  cellbarcode:
    return: [sequence, accuracy]
  variant_tag_1:
    filter:
      mutation_nt_count: 1
      mutation_op_count: null
    return: sequence
  variant_tag_2:
    filter:
      mutation_nt_count: 1
      mutation_op_count: null
    return: sequence
  viral_barcode:
    return: [sequence, accuracy]
# default for genes with eight variant tags and viral barcodes
default_8tags_with_viral_barcode: &default_8tags_with_viral_barcode
  query_clip5: 5
  query_clip3: 5
  termini5:
    filter:
      mutation_nt_count: 2
      mutation_op_count: null
    return: [mutations, accuracy]
  termini3:
    filter:
      mutation_nt_count: null
      mutation_op_count: 10
    return: [mutations, accuracy]
  sequenced_ORF_1:
    filter:
      clip5: 5
      mutation_nt_count: null
      mutation_op_count: 10
    return: [mutations, accuracy]
  sequenced_ORF_2:
    filter:
      clip3: 5
      mutation_nt_count: null
      mutation_op_count: 10
    return: [mutations, accuracy]
  polyA:
    filter:
      mutation_nt_count: null
      mutation_op_count: 4
  UMI:
    return: [sequence, accuracy]
  cellbarcode:
    return: [sequence, accuracy]
  variant_tag_1:
    filter:
      mutation_nt_count: 1
      mutation_op_count: null
    return: sequence
  variant_tag_2:
    filter:
      mutation_nt_count: 1
      mutation_op_count: null
    return: sequence
  variant_tag_3:
    filter:
      mutation_nt_count: 1
      mutation_op_count: null
    return: sequence
  variant_tag_4:
    filter:
      mutation_nt_count: 1
      mutation_op_count: null
    return: sequence
  variant_tag_5:
    filter:
      mutation_nt_count: 1
      mutation_op_count: null
    return: sequence
  variant_tag_6:
    filter:
      mutation_nt_count: 1
      mutation_op_count: null
    return: sequence
  variant_tag_7:
    filter:
      mutation_nt_count: 1
      mutation_op_count: null
    return: sequence
  variant_tag_8:
    filter:
      mutation_nt_count: 1
      mutation_op_count: null
    return: sequence
  viral_barcode:
    return: [sequence, accuracy]  

# use defaults to define specs for actual genes
PB2mid:
  <<: *default_2tags
PB2termini:
  <<: *default_2tags
PB1mid:
  <<: *default_2tags
PB1termini:
  <<: *default_2tags
PAmid:
  <<: *default_2tags
PAtermini:
  <<: *default_2tags
NPmid:
  <<: *default_2tags
NPtermini:
  <<: *default_2tags
HAmid:
  <<: *default_2tags_with_viral_barcode
HAtermini:
  <<: *default_2tags_with_viral_barcode
NAmid:
  <<: *default_8tags_with_viral_barcode
NAtermini:
  <<: *default_8tags_with_viral_barcode
M1mid:
  <<: *default_2tags
M1termini:
  <<: *default_2tags
NS1termini:
  <<: *default_2tags
NS1mid:
  <<: *default_2tags
NEPtermini:
  <<: *default_1tag
